"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[580],{4580:(t,e,r)=>{r.r(e),r.d(e,{default:()=>n});var a=r(5155),s=r(2115),l=r(5538);function n(t){let{people:e,onPersonClick:r,width:n=800,height:i=600}=t,d=(0,s.useRef)(null);return(0,s.useEffect)(()=>{if(!d.current||0===e.length)return;l.Ltv(d.current).selectAll("*").remove();let t=l.Ltv(d.current),a=e.map(t=>({id:t.id,person:t,isLead:t.isLead,x:n/2,y:i/2})),s=a.find(t=>t.isLead),o=s?a.filter(t=>!t.isLead).map(t=>({source:s.id,target:t.id})):[],c=l.tXi(a).force("link",l.kJC(o).id(t=>t.id).distance(200)).force("charge",l.xJS().strength(-800)).force("center",l.jTM(n/2,i/2)).force("collision",l.eRw().radius(60)),f=t.append("g"),u=l.s_O().scaleExtent([1.15,2]).filter(t=>""===t.type).on("zoom",t=>{f.attr("transform",t.transform)});t.call(u);let p=f.selectAll(".link").data(o).enter().append("line").attr("class","link").attr("stroke","#d1d5db").attr("stroke-width",2).attr("stroke-opacity",.6),y=f.selectAll(".node").data(a).enter().append("g").attr("class","node").style("cursor","pointer").call(l.$Er().on("start",(t,e)=>{t.active||c.alphaTarget(.3).restart(),e.fx=e.x,e.fy=e.y}).on("drag",(t,e)=>{e.fx=t.x,e.fy=t.y}).on("end",(t,e)=>{t.active||c.alphaTarget(0),e.fx=null,e.fy=null}));return y.append("circle").attr("r",t=>t.isLead?50:35).attr("fill","white").attr("stroke",t=>t.isLead?"#16a34a":"#d1d5db").attr("stroke-width",t=>t.isLead?4:2),y.append("foreignObject").attr("x",t=>t.isLead?-45:-30).attr("y",t=>t.isLead?-45:-30).attr("width",t=>t.isLead?90:60).attr("height",t=>t.isLead?90:60).append("xhtml:div").style("width","100%").style("height","100%").style("border-radius","50%").style("overflow","hidden").style("background-size","cover").style("background-position","center").style("background-image",t=>"url(".concat(t.person.picture,")")),y.append("text").attr("dy",t=>t.isLead?65:50).attr("text-anchor","middle").style("font-size",t=>t.isLead?"14px":"12px").style("font-weight",t=>t.isLead?"bold":"normal").style("fill","#111827").text(t=>t.person.name),y.on("click",(t,e)=>{r(e.person)}),c.on("tick",()=>{p.attr("x1",t=>t.source.x).attr("y1",t=>t.source.y).attr("x2",t=>t.target.x).attr("y2",t=>t.target.y),y.attr("transform",t=>"translate(".concat(t.x,",").concat(t.y,")"))}),()=>{c.stop()}},[e,r,n,i]),(0,a.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:(0,a.jsx)("svg",{ref:d,width:n,height:i,className:"border border-gray-200 rounded-lg shadow-sm",style:{background:"linear-gradient(to bottom, #f9fafb, #ffffff)"}})})}}}]);